<div class="container bg-transparent py-4 my-4 mx-auto h-full">
     <div class="my-4">
        <h3>Reporte de Fechas de Reserva</h3>
        <div class="flex justify-between items-center">
            <div class=" flex justify-around items-center w-[370px]">
                <div>
                    <input [(ngModel)]="date1" type="date" name="" id="">
                </div>
                <div>
                    <input [(ngModel)]="date2" type="date" name="" id="">
                </div>
                <div>
                    <button class="mr-2 inline-flex rounded-md px-3 py-2 text-sm font-medium bg-primary text-primary-foreground" (click)="search()">Filtrar</button>
                </div>
            </div>
            <div class="flex justify-center">
                <img (click)="download()" #tooltip="matTooltip"
                matTooltip="Descargar Reporte"
                [matTooltipPosition]="positionOption"
                matTooltipHideDelay="500"
                    src="./assets/icons/xls.png" alt="descargar" class="cursor-pointer mx-auto w-8 h-8" />
            </div>
        </div>
    </div>
    <div>
        @if(reserva){
        <table class="py-6" datatable [dtOptions]="dtOptions" [dtTrigger]="dtTrigger">
            <thead>
            <tr class="text-primary">
                <th>Nro Voucher</th>
                <th>Fecha Pago</th>
                <th>Nro Documento</th>
                <th>Nombres y Apellidos</th>
                <th>Categoria</th>
                <th>Reserva</th>
                <th>Fecha Reserva</th>
                <th>Campo</th>
                <th>Turno</th>
                <th>Horario</th>
                <th>Precio</th>
                <th>Estado</th>
                <th></th>
            </tr>
            </thead>
            <tbody>
            
            @for(item of reserva; track item){
                <tr class="text-muted-foreground uppercase">
                    <td>{{item.PAGO_inNROCOM}}</td>
                    <td>@if(item.PAGO_chFECPAG){
                        {{formatDDMMYY(item.PAGO_chFECPAG)}}
                        }
                    </td>
                    <td>{{item.TIPDOC}}</td>
                    <td>{{item.PERS_chNOMPER}}</td>
                    <td>{{item.CATE_chDESCATE}}</td>
                    <td>{{item.RESERVA_chRESERVA}}</td>
                    <td>@if(item.PAGO_chFECPAG){
                        {{formatDDMMYY(item.RESERVA_chFECHA)}}
                        }
                    </td>
                    <td>{{item.CAMPO_chDESCAMPO}}</td>
                    <td>{{item.TURNO_chCAMPO}}</td>
                    <td>{{item.HORA_INICIO}} - {{item.HORA_FINAL}}</td>
                    <td>S/.{{item.PAGO}}</td>
                    <td class="font-semibold" [ngClass]="{'text-red-600': item.ESTADO === 'PENDIENTE', 'text-blue-600': item.ESTADO !== 'PENDIENTE'}">
                        {{item.ESTADO}}
                      </td>
                    <td>
                        @if(item.OPER_P_inCODOPE){
                            <div (click)="downloadVoucher(item.OPER_P_inCODOPE)">
                                <img class="cursor-pointer w-4" mat-raised-button #tooltip="matTooltip"
                                matTooltip="Detalles"
                                [matTooltipPosition]="positionOption"
                                matTooltipHideDelay="300" src="./assets/icons/vista.png" alt="">
                            </div>
                        }
                    </td>
                </tr>
            }
            </tbody>
        </table>
        }
    </div>
</div>
