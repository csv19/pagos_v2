<div class="container bg-transparent py-4 my-4 mx-auto h-full">
    <div [ngClass]="isLoading?'block':'hidden'" class="w-full h-4/5 flex justify-center items-center">
        <mat-spinner [diameter]="50"></mat-spinner>
    </div>
    <div [ngClass]="!isLoading?'block':'hidden'">
        <table class="py-6" datatable [dtOptions]="dtOptions" [dtTrigger]="dtTrigger">
            <thead class="">
            <tr class="text-primary">
                <th>N° Documento</th>
                <th>Nombres</th>
                <th>Apellidos</th>
                <th>Reserva</th>
                <th>Campo</th>
                <th>Cajero</th>
                <th>N° Voucher</th>
                <th>Método de Pago</th>
                <th>Total</th>
                <th>Fecha de Pago</th>
                <th>Accciones</th>
            </tr>
            </thead>
            <tbody>
            @if(reserva){
            @for(item of reserva; track item){
            <tr class="text-muted-foreground uppercase">
                <td>{{item.nro_document}}</td>
                <td>{{item.people_name}}</td>
                <td>{{item.people_lastName}}</td>
                <td>{{item.category}}</td>
                <td>{{item.field_name}}</td>
                <td>{{item.user?item.user:'Online'}}</td>
                <td>{{item.nro_voucher}}</td>
                <td>{{item.payment_method}}</td>
                <td>S/.{{item.price_reservation}}</td>
                <td>{{item.created_at}}</td>
                <td>
                <div class="w-[50px] flex justify-between items-center">
                    <button class="" (click)="update(item.voucher_id)">
                        <img width="20" [src]="iconoPencil" alt="" srcset="">
                    </button>
                    <a target="_blank" href="{{url}}/fields/voucher/{{item.voucher_id}}/{{item.payment_id}}/2">
                    <img width="20" [src]="iconoVoucher" alt="" srcset="">
                    </a>
                </div>
                </td>
            </tr>
            }
            }
            </tbody>
        </table>
    </div>
    <div class="my-4" [ngClass]="!isLoading?'block':'hidden'">
        <h3>Reporte</h3>
        <div class=" flex justify-between items-start w-[550px]">
            <div>
                <mat-form-field>
                    <mat-label>Fecha de Inicio</mat-label>
                    <input matInput (ngModelChange)="validateDate()" [(ngModel)]="date1" [max]="date" [matDatepicker]="picker">
                    <mat-datepicker-toggle matIconSuffix [for]="picker"></mat-datepicker-toggle>
                    <mat-datepicker #picker></mat-datepicker>
                </mat-form-field>
            </div>
            <div>
                <mat-form-field>
                    <mat-label>Fecha Termino</mat-label>
                    <input matInput (ngModelChange)="validateDate()" [(ngModel)]="date2" [matDatepicker]="picker2" [max]="date">
                    <mat-datepicker-toggle matIconSuffix [for]="picker2"></mat-datepicker-toggle>
                    <mat-datepicker #picker2></mat-datepicker>
                </mat-form-field>
            </div>
        </div>
        <div>
            <button class="mr-2 inline-flex rounded-md px-3 py-2 text-sm font-medium bg-primary text-primary-foreground" (click)="getReport()">Generar</button>
        </div>
    </div>
</div>
