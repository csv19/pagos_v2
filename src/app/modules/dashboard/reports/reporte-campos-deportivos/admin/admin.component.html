<div class="container bg-transparent py-4 my-4 mx-auto h-full">
    <div [ngClass]="isLoading?'block':'hidden'" class="w-full h-4/5 flex justify-center items-center">
        <mat-spinner [diameter]="50"></mat-spinner>
    </div>
    <div [ngClass]="!isLoading?'block':'hidden'">
        <table class="py-6" datatable [dtOptions]="dtOptions" [dtTrigger]="dtTrigger">
            <thead>
            <tr class="text-primary">
                <th>Cod Tasa</th>
                <th>Nombres y Apellidos</th>
                <th>Categoria</th>
                <th>Reserva</th>
                <th>Campo</th>
                <th>Turno</th>
                <th>Horario</th>
                <th>Precio</th>
            </tr>
            </thead>
            <tbody>
            @if(reserva){
            @for(item of reserva; track item){
            <tr class="text-muted-foreground uppercase">
                <td>{{item.TASA_P_inCODTAS}}</td>
                <td>{{item.PERS_chNOMPER}}</td>
                <td>{{item.CATE_chDESCATE}}</td>
                <td>{{item.RESERVA_chRESERVA}}</td>
                <td>{{item.CAMPO_chDESCAMPO}}</td>
                <td>{{item.TURNO_chCAMPO}}</td>
                <td>{{item.HORA_chDESHORA}} - {{sumarHora(item.HORA_chDESHORA)}}</td>
                <td>S/.{{item.TASA_deVALTAS}}</td>
            </tr>
            }
            }
            </tbody>
        </table>
    </div>
    <div class="my-4" [ngClass]="!isLoading?'block':'hidden'">
        <h3>Reporte</h3>
        <div class=" flex justify-between items-start w-[550px]">
            <div>
                <mat-form-field>
                    <mat-label>Fecha de Inicio</mat-label>
                    <input matInput (ngModelChange)="validateDate()" [(ngModel)]="date1" [max]="date" [matDatepicker]="picker">
                    <mat-datepicker-toggle matIconSuffix [for]="picker"></mat-datepicker-toggle>
                    <mat-datepicker #picker></mat-datepicker>
                </mat-form-field>
            </div>
            <div>
                <mat-form-field>
                    <mat-label>Fecha Termino</mat-label>
                    <input matInput (ngModelChange)="validateDate()" [(ngModel)]="date2" [matDatepicker]="picker2" [max]="date">
                    <mat-datepicker-toggle matIconSuffix [for]="picker2"></mat-datepicker-toggle>
                    <mat-datepicker #picker2></mat-datepicker>
                </mat-form-field>
            </div>
        </div>
        <div>
            <button class="mr-2 inline-flex rounded-md px-3 py-2 text-sm font-medium bg-primary text-primary-foreground" (click)="getReport()">Generar</button>
        </div>
    </div>
</div>
